<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Escape</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.171.0/build/three.module.js",
            "three/examples/jsm/controls/OrbitControls": "https://unpkg.com/three@0.171.0/examples/jsm/controls/OrbitControls.js",
            "three/addons/": "https://unpkg.com/three@0.171.0/examples/jsm/",
            "gsap": "https://esm.sh/gsap@3.12.5"
        }
    }
    </script>
</head>
<body>
    <div id="game-container">
        <!-- Game canvas will be inserted here by Three.js -->
    </div>

    <div id="game-ui">
        <!-- HUD Elements -->
        <div class="hud-bottom">
            <div class="energy-bar">
                <div class="label">Energy</div>
                <div class="bar-container">
                    <div id="energy-fill"></div>
                </div>
            </div>
            <div class="shield-status">Shield: <span id="shield-ready">Ready</span></div>
        </div>

        <!-- Game State Overlays -->
        <div id="pause-menu" class="overlay hidden">
            <h2>Paused</h2>
            <button id="resume">Resume</button>
            <button id="restart">Restart</button>
        </div>

        <div id="start-menu" class="overlay">
            <h1>Orbital Escape</h1>
            <button id="start-game">Start Game</button>
            <div class="player-name-input">
                <input type="text" id="player-name" placeholder="Enter your name" maxlength="15" value="Player">
            </div>
            <div class="controls-info">
                <h3>Controls</h3>
                <!-- Desktop controls - will be hidden on mobile -->
                <div class="desktop-controls">
                    <p>WASD / Arrow Keys - Move</p>
                    <p>Q/E - Move Up/Down</p>
                    <p>Space - Shield</p>
                    <p>Shift - Magnetic Field</p>
                    <p>ESC - Pause</p>
                </div>
                <!-- Mobile controls - will be shown only on mobile -->
                <div class="mobile-controls">
                    <p>Left Joystick - Move</p>
                    <p>Right Joystick - Up/Down</p>
                    <p>Shield Button - Activate Shield</p>
                    <p>Magnet Button - Magnetic Field</p>
                </div>
            </div>
        </div>

        <div id="game-over" class="overlay hidden">
            <h2>Game Over</h2>
            <div class="final-stats">
                <p>Score: <span id="final-score">0</span></p>
                <p>Time: <span id="final-time">0:00</span></p>
            </div>
            <button id="restart-game">Try Again</button>
            <button id="return-menu">Main Menu</button>
        </div>

        <div class="leaderboard">
            <h3>Arena Rankings</h3>
            <div id="rankings-list">
                <!-- Rankings will be populated dynamically -->
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
